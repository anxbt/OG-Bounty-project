{"version":3,"file":"base.js","sourceRoot":"","sources":["../../../src.ts/sdk/inference/broker/base.ts"],"names":[],"mappings":"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"}